<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Color Grid Random Focus</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:#0f172a;
      --border:#1f2937;
      --text:#e5e7eb;
      --muted:#9ca3af;
      --focus:#ffffff;
    }
    body{
      margin:0;
      font-family: system-ui, Segoe UI, Tahoma, sans-serif;
      background:var(--bg);
      color:var(--text);
    }
    .wrap{max-width:1024px; margin:0 auto; padding:22px;}
    .panel{
      background:rgba(255,255,255,0.03);
      border:1px solid var(--border);
      border-radius:16px;
      padding:18px;
      box-shadow:0 10px 30px rgba(0,0,0,.35);
    }
    h1{font-size:20px; margin:0 0 8px; font-weight:900;}
    .sub{margin:0 0 14px; color:var(--muted); line-height:1.5}

    .controls{display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-bottom:14px;}
    button{
      cursor:pointer; border:0;
      border-radius:12px;
      padding:10px 14px;
      font-weight:900;
      background:#22c55e;
      color:#052e16;
    }
    button:disabled{opacity:.55; cursor:not-allowed;}
    .pill{
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background:rgba(255,255,255,0.03);
      color:var(--muted);
      font-size:12px;
      font-weight:700;
    }

    /* Grid */
    .grid{
      display:grid;
      grid-template-columns: repeat(6, 1fr);
      gap:0; /* ‡πÉ‡∏´‡πâ‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏†‡∏≤‡∏û */
      border-radius:14px;
      overflow:hidden;
      border:1px solid var(--border);
    }
    .cell{
      min-height:122px;
      padding:12px 12px 10px;
      position:relative;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    .cell .name{
      font-weight:900;
      font-size:15px;
      line-height:1.2;
      text-shadow: 0 1px 0 rgba(0,0,0,.25);
    }
    .cell .vals{
      font-weight:900;
      font-size:18px;
      line-height:1.05;
      text-shadow: 0 1px 0 rgba(0,0,0,.25);
    }
    .cell .vals div{margin-top:2px;}
    .cell .pct{
      position:absolute;
      left:12px;
      bottom:8px;
      font-weight:900;
      font-size:13px;
      opacity:.95;
      text-shadow: 0 1px 0 rgba(0,0,0,.25);
    }

    /* Focus animation */
    .cell.focus{
      outline:4px solid rgba(255,255,255,.95);
      outline-offset:-4px;
      box-shadow: inset 0 0 0 2px rgba(0,0,0,.25);
      filter: brightness(1.06) saturate(1.08);
      transform: translateZ(0);
      z-index: 2;
    }
    .cell.focus::after{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(circle at 50% 35%, rgba(255,255,255,.22), rgba(255,255,255,0) 55%);
      pointer-events:none;
    }

    /* Result box */
    .result{
      margin-top:14px;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:12px;
    }
    .box{
      border:1px solid var(--border);
      background:rgba(255,255,255,0.03);
      border-radius:14px;
      padding:14px;
    }
    .big{font-weight:1000; font-size:18px; margin:0 0 6px;}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, monospace; font-size:13px; color:var(--muted); line-height:1.6}
    .swatch{
      border:1px solid var(--border);
      border-radius:14px;
      min-height:120px;
    }

    /* Responsive */
    @media (max-width: 860px){
      .grid{grid-template-columns: repeat(3, 1fr);}
      .result{grid-template-columns: 1fr;}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="panel">
      <h1>üé≤ ‡∏™‡∏∏‡πà‡∏°‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏™‡∏µ‡∏ó‡∏µ‡∏•‡∏∞‡∏ä‡πà‡∏≠‡∏á (‡∏´‡∏ô‡πà‡∏ß‡∏á 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ √ó 5 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á)</h1>
      <p class="sub">‡∏Å‡∏î ‚Äú‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏∏‡πà‡∏°‚Äù ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡πÑ‡∏Æ‡πÑ‡∏•‡∏ï‡πå‡∏ó‡∏µ‡∏•‡∏∞‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏Å‡∏° ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏ß‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏≠‡∏á‡πÑ‡∏´‡∏ô</p>

      <div class="controls">
        <button id="startBtn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏∏‡πà‡∏°</button>
        <span class="pill" id="status">‡∏û‡∏£‡πâ‡∏≠‡∏°</span>
        <span class="pill">Delay: 1s</span>
        <span class="pill">Duration: 5s</span>
      </div>

      <div class="grid" id="grid"></div>

      <div class="result">
        <div class="box">
          <div class="big">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</div>
          <div id="resultText" class="mono">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏∏‡πà‡∏°</div>
        </div>
        <div class="swatch" id="resultSwatch"></div>
      </div>
    </div>
  </div>

  <script>
    // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏µ‡∏ï‡∏≤‡∏°‡∏†‡∏≤‡∏û (‡∏ä‡∏∑‡πà‡∏≠ + RGB + (optional) %)
    // ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ HEX ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å RGB ‡πÉ‡∏´‡πâ‡πÅ‡∏•‡πâ‡∏ß
    const data = [
      // ‡πÅ‡∏ñ‡∏ß 1
      {name:"Dark Skin",   rgb:[115,81,68],   pct:null},
      {name:"Light Skin",  rgb:[194,150,130], pct:null},
      {name:"Blue Sky",    rgb:[98,122,157],  pct:null},
      {name:"Foliage",     rgb:[87,108,67],   pct:null},
      {name:"Blue Flower", rgb:[133,128,177], pct:null},
      {name:"Bluish Green",rgb:[103,189,170], pct:null},

      // ‡πÅ‡∏ñ‡∏ß 2
      {name:"Orange",      rgb:[214,126,44],  pct:null},
      {name:"Purple Red",  rgb:[80,91,166],   pct:null},
      {name:"Moderate Red",rgb:[193,90,99],   pct:null},
      {name:"Purple",      rgb:[94,60,108],   pct:null},
      {name:"Yellow Green",rgb:[157,188,64],  pct:null},
      {name:"Orange Yellow",rgb:[224,163,46], pct:null},

      // ‡πÅ‡∏ñ‡∏ß 3
      {name:"Blue",        rgb:[56,61,150],   pct:null},
      {name:"Green",       rgb:[70,148,73],   pct:null},
      {name:"Red",         rgb:[175,54,60],   pct:null},
      {name:"Yellow",      rgb:[231,199,31],  pct:null},
      {name:"Magenta",     rgb:[187,86,149],  pct:null},
      {name:"Cyan",        rgb:[8,133,161],   pct:null},

      // ‡πÅ‡∏ñ‡∏ß 4 (Neutral/Black + %)
      {name:"White",       rgb:[243,243,242], pct:"5%"},
      {name:"Neutral 8",   rgb:[200,200,200], pct:"26%"},
      {name:"Neutral 65",  rgb:[160,160,160], pct:"44%"},
      {name:"Neutral 5",   rgb:[122,122,121], pct:"62%"},
      {name:"Neutral 35",  rgb:[85,85,85],    pct:"75%"},
      {name:"Black",       rgb:[52,52,52],    pct:"86%"},
    ];

    const grid = document.getElementById('grid');
    const startBtn = document.getElementById('startBtn');
    const statusEl = document.getElementById('status');
    const resultText = document.getElementById('resultText');
    const resultSwatch = document.getElementById('resultSwatch');

    function rgbToHex([r,g,b]){
      const toHex = (n)=> n.toString(16).padStart(2,'0');
      return '#' + toHex(r) + toHex(g) + toHex(b);
    }

    function isDark([r,g,b]){
      // luminance approx
      const l = (0.2126*r + 0.7152*g + 0.0722*b);
      return l < 140;
    }

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á
    const cells = data.map((d, idx)=>{
      const hex = rgbToHex(d.rgb);
      const cell = document.createElement('div');
      cell.className = 'cell';
      cell.style.background = hex;
      cell.style.color = isDark(d.rgb) ? '#ffffff' : '#111827';

      cell.innerHTML = `
        <div>
          <div class="name">${d.name}</div>
        </div>
        <div class="vals">
          <div>${d.rgb[0]}</div>
          <div>${d.rgb[1]}</div>
          <div>${d.rgb[2]}</div>
        </div>
        ${d.pct ? `<div class="pct">${d.pct}</div>` : ``}
      `;
      cell.dataset.index = idx;
      cell.dataset.hex = hex;
      grid.appendChild(cell);
      return cell;
    });

    // ---- ‡πÄ‡∏Å‡∏°‡∏™‡∏∏‡πà‡∏°‡πÇ‡∏ü‡∏Å‡∏±‡∏™ ----
    let timer = null;
    let tick = 0;
    let currentIndex = -1;
    let running = false;

    const DELAY_MS = 1000;      // ‡∏´‡∏ô‡πà‡∏ß‡∏á 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
    const TOTAL_SECONDS = 10;    // ‡∏£‡∏ß‡∏° 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
    const TOTAL_TICKS = TOTAL_SECONDS; // 1 tick = 1s

    function clearFocus(){
      cells.forEach(c=>c.classList.remove('focus'));
    }

    function pickNextIndex(){
      // ‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ã‡πâ‡∏≥‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ô
      let next = Math.floor(Math.random() * cells.length);
      if (cells.length > 1){
        while(next === currentIndex) next = Math.floor(Math.random() * cells.length);
      }
      return next;
    }

    function setFocus(index){
      clearFocus();
      cells[index].classList.add('focus');
      currentIndex = index;
    }

    function showResult(index){
      const d = data[index];
      const hex = rgbToHex(d.rgb);
      resultSwatch.style.background = hex;

      resultText.innerHTML =
        `‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà: <b style="color:#e5e7eb">${d.name}</b><br>` +
        `RGB: ${d.rgb.join(', ')}<br>` +
        `HEX: ${hex}` +
        (d.pct ? `<br>Percent: ${d.pct}` : '');
    }

    function start(){
      if (running) return;
      running = true;
      tick = 0;
      statusEl.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏∏‡πà‡∏°...';
      startBtn.disabled = true;
      resultText.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏∏‡πà‡∏°...';

      // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏∏‡πà‡∏°‡∏ó‡∏±‡∏ô‡∏ó‡∏µ 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢ interval
      setFocus(pickNextIndex());
      tick++;

      timer = setInterval(()=>{
        if (tick >= TOTAL_TICKS){
          stop();
          return;
        }
        setFocus(pickNextIndex());
        tick++;
      }, DELAY_MS);
    }

    function stop(){
      if (timer) clearInterval(timer);
      timer = null;
      running = false;
      startBtn.disabled = false;
      statusEl.textContent = '‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‚úÖ';
      showResult(currentIndex);
    }

    startBtn.addEventListener('click', start);

    // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏µ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
    resultSwatch.style.background = '#334155';
  </script>
</body>
</html>
